---
title: "DataViz Makeover 2"
description: |
  Public receptivity and perceptions towards COVID-19 vaccinations, Jan 2021 
author:
  - name: Daniel Lin 
    email: yongyan.lin.2020@mitb.smu.edu.sg
    url: https://daniel-lin-yy-data-viz.netlify.app/
    affiliation: School of Computing and Information Systems, Singapore Management University
    affiliation_url: https://www.smu.edu.sg/ 
date: 02-19-2021
output:
  distill::distill_article:
    self_contained: false
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)

# Learn more about creating blogs with Distill at:
# https://rstudio.github.io/distill/blog.html

```

# Background
A research team has conducted a study to understand the receptivity of the public towards COVID-19 vaccination. As part of their study, data from the Imperial College London YouGov COVID-19 Behaviour Tracker Data Hub was utilised. From the data obtained, some visualizations were created. The aim of this post is to provide suggestions for improvement of the visualizations as well as to propose other visualizations for further analysis of the data to allow deeper insights to be gleaned.

# A. Critique of Data Visualization Provided

The original visualizations created by the team is shown below.


```{r pressure, echo=FALSE, fig.cap="Provided Data Visualization", out.width = '100%'}
knitr::include_graphics("OriginalVisual.jpg")
```

Based on the original data visualization provided, the following are some comments on the clarity and aesthetics aspects of the visualization.


## Clarity
**1.    Titles of the charts and legends are not well worded**<br>
The title of the chart on the left could have been better phrased to reflect the content and key message of the chart. <br>
The horizontal axes could have been better labelled to “Proportion of respondents”. <br>
For the vertical axes, it is unnecessary to have the “Country” axis label as the country labels are self-explanatory. <br>
For the legend, there is no need to label “Vac1” as it is not meaningful to the reader. <br><br>
**2.    Colour chosen for categories not intuitive**<br>
Colours selected to represent the categorical responses should reflect the nature of the responses. <br>
For example, Strongly agree (1) and Agree (2) should be of the same colour hue but different in tones/shades to reflect intensity (i.e. (1) should be darker/more intense than (2)). Similarly, Strongly Disagree (5) and Disagree (4) should be of the same colour hue but of different tones/shades to reflect intensity (i.e. (5) should be more intense then (4)).<br>  
<br>
**3.    Uncertainty in the data was not represented**<br>
For the chart on the right, since sample proportion was used, confidence intervals of the sample proportion should be included to allow readers to understand the margin of error in the sample estimates and to interpret if the proportions reflected are statistically different. <br><br>

**4.    Inclination and skew of responses not easily observed with 100% stacked bar chart**<br>
While the 100% stacked bar chart demonstrates the proportions of the responses for each country, it does not intuitively show the skew and inclination of the responses for each country at a glance. With a diverging stacked bar chart, the inclinations of the responses is more evident. <br><br>
**5.    Insufficient data to draw meaningful observations**<br>
Both charts essentially reflect countries' receptivity towards the COVID-19 vaccine. However, no further observations and analysis are available from the charts. In order to glean deeper insights, the data from the variable used (var_1) should be compared with data from other variables for analysis.     <br><br>

**6.    Bar chart on the right sorted in descending order**<br>
For the chart on the right, countries are sorted in descending order of the proportion of the public which had strongly agreed to the statement that they were willing to take the vaccine. By arranging in this manner,it allows easier identification of countries which had a higher receptivity towards the vaccine.

## Aesthetics

**1.    Horizontal arrangement of the bar chart**<br>
As the bar charts are labelled according to country names, a horizontal mapping of the bar chart allows the countries’ names to be seem in full and in a less cluttered manner than if arranged in a vertical layout. <br><br>
**2.    Country names should be in Title Case instead of lowercase**<br>
Country names are proper nouns and should be in Title Case instead of the current lowercase used. <br><br>
**3.    Consistent use of colours**<br>
There was consistent use of colours in both graphs, where dark blue was used to represent the proportion of respondents who had strongly agreed.<br><br>
**4.    Consistency in number of decimals on horizontal axes**<br>
The chart on the left used whole number labels while the one on the right had labels with 1 decimal place. For consistency and for the charts to look less cluttered, whole number labels could be used.<br><br>
**5.    Good choice of font type, size and colour**<br>
Font type, size and colour selected in the chart is an appropriate choice as it is easily read by the reader. However, to emphasize key messages of the chart, annotations of different size and colour could be used.           


# B. Proposed Alternative Data Visualization

## Sketch of Proposed Visualization
```{r pressure1, echo=FALSE, fig.cap="Sketch of Proposed Data Visualization", out.width = '100%'}
knitr::include_graphics("Sketch.jpg")
```

## Description of and Rationale for Proposed Visualization

**1.    Side by side comparison of responses to different questions**<br>
The proposed visualization would include 2 graphs placed side by side with readers having an option to select the questions (variables) for which the charts are representing. This will allow users to compare responses to the different questions and derive deeper insights into the responses.

For example, for a country with high proportion of public willing to take the vaccine, a comparison with their responses to other questions such as "I am worried about getting COVID19" or "I believe government authorities in my country will provide me with an effective COVID19 vaccine" could provide deeper understanding on the motivation of respondents' receptivity towards vaccination. Application wise, public health authorities would be able to determine if there were any public health messaging that would drive vaccination uptake more than others.

**2.    Filters by demographical factors to allow deeper analysis**<br>
There are also filters for the chart on the left, to allow users to refine the charts displayed by gender, age range, employment status, household size and number of children in households, which may provide interesting insights into possible factors linked to vaccination receptivity and perceptions.

**3.    Option to select Confidence Intervals for error bars**<br>
For the chart on the right, users have the option of selecting 90%, 95% and 99% confidence levels to view the estimated proportions (and their confidence intervals) of respondents strongly agreeing with the respective statements.

**4.    Use of suitable Title and Write-up**
<br>
The title and write-up provides context to the visualization and helps the reader understand the utility of the charts.

**5.    Inttuitive use of colours**<br>
For the diverging stacked bar chart on the left, colours with same hues but differing tones are used to represent similar responses (i.e., Dark green for Strongly Agree, Green for Agree, Grey for Neutral, and Red and Dark Red for Disagree and Strongly Disagree). This allows for the reader to interpret the charts more easily and intuitively.

**6.    Use of error bars to represent uncertainty**<br>
To provide an indication of uncertainty of the sample proportion, error bars are used on the right, with varying levels of confidence. This allows the user to have a better understanding of the uncertainty in data shown as well as whether there were statistical diferences in the estimates for the various countries.

**7.    Diverging stacked bar charts show skew and inclination intuitively**<br>
Compared to the 100% stacked bar chart, the diverging bar chart shows skewness and inclination of the proportions more effectively and intuitively. At a glance, the user is able to tell which countries are more or less inclined towards COVID19 vaccination.

**8.    Both charts sorted by countries' names in alphabetical order** <br>
As the diverging stacked bar chart clearly displays the inclination of the countries, there is no need to sort the error bar chart on the right by decreasing level of willingness. Instead, both were sorted similarly to allow for easy comparison of country data between the 2 charts.


# C. Proposed Data Visualization
The proposed data visualization is found at the following URL:<br>
*https://public.tableau.com/profile/daniel.lin.yongyan#!/vizhome/DatavizMakeover2_1316h/Dashboard1?publish=yes*
<br><br>
A **screenshot** of the visualization is as follow.

```{r pressure2, echo=FALSE, fig.cap="Proposed Data Visualization", out.width = '100%'}
knitr::include_graphics("ProposedDataViz.jpg")
```

# D. Preparation of Data Visualization

## D1. Preparation of Dataset

### D1.1 Extraction of targeted variables from country datasets provided

For the data visualization, the following variables have been selected for use from the datasets.


```{r pressure3, echo=FALSE, fig.cap="Selected Variables", out.width = '100%'}
knitr::include_graphics("SelectedVariables.jpg")
```


Demographical data such as gender, age, household sizes, employment status, and endtime were extracted as well to provide deeper understanding to the profile of the respondents.


```{r pressure4, echo=FALSE, fig.cap="Selected Demographic Variables", out.width = '100%'}
knitr::include_graphics("SelectedDemog.jpg")
```

For each of the country datasets, only the above selected fields were extracted from the original datasets. The below is a screenshot of the selected fields retained from the original country dataset.

```{r pressure5, echo=FALSE, fig.cap="Extracted variables from original dataset", out.width = '100%'}
knitr::include_graphics("D1_1.jpg")
```

### D1.2 Selection of relevant records

For the research, only data from January 2021 was used for analysis and visualization. As such, records of responses that were done in January 2021 were extracted from the dataset. This was done by first applying a date filter in the “endtime” column and selecting the relevant records as follow.

```{r pressure6, echo=FALSE, fig.cap="Date filter applied to extract Jan 2021 records", out.width = '100%'}
knitr::include_graphics("D1_2a.jpg")
```

The following is a screenshot of the resulting dataset.

```{r pressure7, echo=FALSE, fig.cap="Remaining dataset after extracting Jan 2021 data", out.width = '100%'}
knitr::include_graphics("D1_2b.jpg")
```

### D1.3 Recoding of “1 – Strongly agree” and “5 – Strongly disagree”

For selected fields vac_1, vac2_1, vac2_2, vac2_3, vac2_6 and vac_3, 2 of the data values “1 – Strongly agree” and “5 – Strongly disagree” need to be recoded to numerical values 1 and 5 respectively.

This is done by using the Replace function as shown below

```{r pressure8, echo=FALSE, fig.cap="Replacement of 1 - Strongly agree using the Replace function", out.width = '100%'}
knitr::include_graphics("D1_3a.jpg")
```
and

```{r pressure9, echo=FALSE, fig.cap="Replacement of 5 - Strongly disagree using the Replace function", out.width = '100%'}
knitr::include_graphics("D1_3b.jpg")
```

### D1.4 Recoding of values in household_children field

Based on the codebook provided (see below), there should not be entries with 7 or 8 in the “household_children” field as these would have been captured under “5 or more”. Rather 8 is supposed to be mapped to “Prefer not to say” and 7 is actually an invalid input value. In some of the countries’ datasets, this has not been properly coded (refer to diagram below).

```{r pressure10, echo=FALSE, fig.cap="Error in values of household_children", out.width = '100%'}
knitr::include_graphics("D1_4a.jpg")
```
